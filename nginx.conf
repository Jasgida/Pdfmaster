events {}


http {

    include       /etc/nginx/mime.types;

    default_type  application/octet-stream;


    sendfile        on;

    keepalive_timeout  65;


    server {

        listen 80;


        # Serve frontend build

        root /usr/share/nginx/html;

        index index.html;


        location / {

            try_files $uri /index.html;

        }


        # Proxy API requests to Flask backend

        location /api/ {

            proxy_pass         http://pdfmaster-backend:5000/;

            proxy_set_header   Host $host;

            proxy_set_header   X-Real-IP $remote_addr;

            proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;

            proxy_set_header   X-Forwarded-Proto $scheme;

        }

    }

}

